{"version":3,"sources":["script.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../app.js","sourcesContent":["const HOST = \"https://api.foursquare.com/v2\";\nconst CLIENT_ID = \"C0TLC3WLVTWCDY34FEXLSHXP3OTECVYAOWIIZGMD1HEP3A1I\";\nconst CLIENT_SECRET = \"1BRA5ZO1U1CJB0OJNE1MLSH0VIVZ4SVYRJRGZ5M31GLAK0AO\";\n\n\n$(document).ready(function() {\n    const $venues = $(\".venue\");\n    const $photos = $(\".icon\");\n\n\n\n    function initAutocomplete() {\n      // Create the search box and link it to the UI element.\n      let input = $('.address-box');\n\n      console.log(\"i got the box:\" + input);\n\n      let searchBox = new google.maps.places.SearchBox(input);\n\n      console.log(\"Now Searchbox o:\" + searchBox);\n\n      searchBox.addListener('places_changed', function() {\n\n          let places = searchBox.getPlaces();\n\n          if (places.length == 0) {\n              return;\n          }\n\n          console.log(places);\n\n\n          // For each place, get the icon, name and location.\n          let bounds = new google.maps.LatLngBounds();\n          places.forEach(function(place) {\n              if (!place.geometry) {\n                  console.log(\"Returned place contains no geometry\");\n                  return;\n              }\n          });\n      });\n    }\n\n    $(\"#searchform\").submit(event => {\n        const entry = $(\"#query\").val();\n        const radius = $(\"#radius\").val();\n\n        event.preventDefault();\n        $.ajax({\n                url: `${HOST}/venues/explore?near=${entry}&radius=${radius}&client_id=${CLIENT_ID}&client_secret=${CLIENT_SECRET}&v=20180328`,\n                method: \"GET\"\n            })\n            .done(res => {\n                console.log(res.response.groups[0].items);\n\n                const { response: { groups } } = res;\n\n                groups[0].items.forEach(place => {\n                    let icon =\n                        place.venue.categories[0].icon.prefix +\n                        \"64\" +\n                        place.venue.categories[0].icon.suffix;\n\n                    //console.log(res.response.groups[0].items[0].venue.categories[0].icon)\n\n                    $venues.append(\n                        `\n                        <div class=\"venue-place\">\n                          <div class=\"image\" style=\"background: #300\">\n                            <img src=${icon} alt=${place.venue.categories[0].name} />\n                          </div>\n\n                          <div class=\"details\">\n                            <h4>${place.venue.name}</h4>\n                            <div class=\"rating\">\n                              ${place.venue.rating ? place.venue.rating : \"\"}\n                            </div>\n                            <div class=\"address\">\n                              ${place.venue.location.address ? place.venue.location.address : \"\"}\n                            </div>\n                            <div class=\"type\">\n                              ${place.venue.categories[0].name}\n                            </div>\n                            <div class=\"contact\">\n                              ${place.venue.contact.phone ? place.venue.contact.phone : \"\"}\n                            </div>\n                          </div>\n                          \n                        </div>  \n                      `\n                    );\n                });\n            })\n            .fail(err => console.log(err));\n    });\n\n    /*\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(function(position) {\n        const lat = position.coords.latitude;\n        const long = position.coords.longitude;\n        $.ajax({\n          url: `${HOST}/venues/explore?ll=${lat},${long}&client_id=${CLIENT_ID}&client_secret=${CLIENT_SECRET}&v=20180328`,\n          method: \"GET\"\n        }).done(response => {\n          const location = response.response.headerLocation;\n          $('#venue').append(location);\n        });\n      });\n    } else {\n      console.log(\"This browser doesn't support location services\");\n    }\n    */\n});\n\n"]}